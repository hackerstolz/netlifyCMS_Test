backend:
  name: github
  branch: master # Branch to update (optional; defaults to master)
  repo: hackerstolz/netlifyCMS_Test

# media_folder: "" # Media files will be stored in the repo under images/uploads
media_folder: "static/images/uploads"
public_folder: "/images/uploads"

collections:
  - name: "hackathon" # Used in routes
    label: "Hackathon" # Used in the UI
    folder: "content/hackathons" # The path to the folder where the documents are stored
    create: true # Allow users to create new documents in this collection
    slug: "{{slug}}"
    identifier_field: id
    summary: "{{title}} ({{id}})"
    fields:
      - {label: "ID", name: "id", widget: "string", hint: "A unique string to ensure correct relations and queries"}
      - {label: "Title", name: "title", widget: "string"}
      - label: Logo
        name: logo
        widget: "image"
        required: false
        media_library:
          config:
            max_file_size: 256000 # 250kb
      - label: Descriptions
        name: descriptions
        widget: list
        fields:
          - {label: Language, name: language, widget: select, options: ["DE", "EN"]}
          - {label: Description, name: description, widget: markdown}
  - name: "challenge"
    label: "Challenge"
    folder: "content/challenges"
    create: true
    slug: "{{slug}}"
    identifier_field: id
    summary: "{{title}} ({{id}})"
    fields:
      - {label: "ID", name: "id", widget: "string", hint: "A unique string to ensure correct relations and queries", pattern: ['^\w{3,}$', "Only letters or numbers, at least 3!"]}
      - {label: "Title", name: "title", widget: "string"}
      - label: Hackathon
        name: hackathon
        widget: "relation"
        collection: "hackathon"
        searchFields: ["id", "title"]
        valueField: "id"
        displayFields: ["title"]
      - label: Descriptions
        name: descriptions
        widget: list
        fields:
          - {label: Language, name: language, widget: select, options: ["DE", "EN"]}
          - {label: Description, name: description, widget: markdown}
      - label: Image
        name: image
        widget: "image"
        required: false
        media_library:
          config:
            max_file_size: 512000 # 500kb